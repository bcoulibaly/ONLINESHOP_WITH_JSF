<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui">

<h:head>
	<title><ui:insert name="title">BelissoShop-LoggedKunden</ui:insert></title>
	<link rel="stylesheet" href="resources/CSS/general.css" type="text/css" />
	<link rel="shortcut icon" href="resources/IMAGES/finallogo1.jpg" />

	<style type="text/css">
.label {
	width: 20%;
	color: black;
}

.value {
	width: 80%;
	padding: 4px;
}

.grid {
	width: 100%;
}

.error {
	color: red;
}

.outputLabel {
	font-weight: bold;
}

.grid {
	width: 33%;
	padding: 4px;
}
</style>
</h:head>

<h:body>
	<f:event listener="#{loginHandler.checkLoggedIn}" type="preRenderView" />

	<b:growl id="message" placementFrom="top" show-detail="true"
		global-only="false" show-summary="true" allow-dismiss="true"
		animation-enter="animated bounceInDown"
		animation-exit="animated flipOutX" escape="true" />
	<h:form>
		<b:navBar id="top" brand="BELISO SHOP"
			brandImg="resources/IMAGES/finallogo1.png"
			brand-img-style="width:60px;
				height:30px" fluid="true"
			sticky="true" look="primary">
			<b:navbarLinks style="text-color:white;" pull="right">
				<b:navCommandLink href="#">
					<b:iconAwesome name="group" />
					<h:outputLabel value="Contact" />
				</b:navCommandLink>
				<b:navCommandLink href="#">
					<b:iconAwesome name="balance-scale" />
					<h:outputLabel value="Impressum" />
				</b:navCommandLink>
				<b:navCommandLink href="#">
					<b:iconAwesome name="leaf" />
					<h:outputLabel value="Ueber uns" />
				</b:navCommandLink>
				<b:dropMenu iconAwesome="user-circle" style="margin-right:50px;"
					value="#{loginHandler.user.benutzername}">
					<b:navCommandLink value="Profil editieren" href="#" />
					<b:navCommandLink action="#{loginHandler.logout()}"
						value="Abmelden" />
				</b:dropMenu>
			</b:navbarLinks>
		</b:navBar>
	</h:form>
	<hr width="80%" align="center" />
	<h2 id="headPage" align="center">
		<ui:insert name="headPage">Neue Admin erstellen</ui:insert>
	</h2>
	<hr width="80%" align="center" />
	<div id="content" align="center">
		<h:form>
			<div class="content-container">
				<p:growl id="growl" sticky="true" showDetail="true" />

				<p:wizard flowListener="#{loginHandler.onFlowProcess}">
					<p:tab id="personal" title="Personal">
						<b:panel header="Personal Details">
							<b:messages />

							<b:panelGrid columns="2" columnClasses="label, value">

								<h:outputLabel value="Anrede:" for="anrede" />

								<b:selectOneMenu id="anrede"
									value="#{loginHandler.user.anrede}">
									<f:selectItems value="#{loginHandler.anredeValues}"
										var="status" itemValue="#{status}" itemLabel="#{status.label}" />
								</b:selectOneMenu>


								<h:outputText value="Vorname: *" />
								<b:inputText value="#{loginHandler.user.vorname}"
									required="true" />

								<h:outputText value="Nachname: *" />
								<b:inputText value="#{loginHandler.user.name}"
									required="true" />

								<h:outputText value="Geburtsdatum: " />

								<b:datepicker id="geburtsdatum"
									value="#{loginHandler.user.geburtsdatum}"
									mode="DD.MM.YYYY" required="true"
									requiredMessage="Geburtsdatum fehlt" change-year="true"
									showButtonPanel="true" />


								<h:outputText value="Email: *" />
								<b:inputText value="#{loginHandler.user.email}"
									required="true" />
							</b:panelGrid>
						</b:panel>
					</p:tab>

					<p:tab id="address" title="Address">
						<b:panel header="Address Details">
							<b:messages />
							<b:panelGrid columns="2" columnClasses="label, value">
								<h:outputText value="Street: " />
								<b:inputText value="#{loginHandler.user.strasse}" />

								<h:outputText value="Postal Code: " />
								<b:inputText value="#{loginHandler.user.plz}" />

								<h:outputText value="City: " />
								<b:inputText value="#{loginHandler.user.ort}" />
							</b:panelGrid>
						</b:panel>
					</p:tab>

					<p:tab id="loginData" title="Anmelde Daten">
						<b:panel header="Anmelde Details">
							<b:messages />
							<b:panelGrid columns="2" columnClasses="label, value">
								<h:outputText value="Benutzername: *" />
								<b:inputText value="#{loginHandler.user.benutzername}"
									required="true" requiredMessage="Benutzername fehlt!!" />

								<h:outputText value="Passwort: *" />
								<p:password id="pwd1"
									value="#{loginHandler.user.passwort}" match="pwd2"
									feedback="true" 
									requiredMessage="Passwortz fehlt" />

								<h:outputText value="Passwort Wiederholen: *" />
								<p:password id="pwd2"
									value="#{loginHandler.user.passwortWiederholen}"
									feedback="true"
									requiredMessage="Du sollst deine Passwort eingeben, um deine Identität zu bestätigen" />
							</b:panelGrid>
						</b:panel>
					</p:tab>

					<p:tab id="confirm" title="Confirmation">
						<b:panel header="Confirmation">
							<b:panelGrid id="confirmation" columns="3"
								columnClasses="grid,grid,grid">
								<b:panelGrid columns="2" columnClasses="label, value">
									<h:outputText value="Firstname: " />
									<h:outputText value="#{loginHandler.user.vorname}"
										styleClass="outputLabel" />

									<h:outputText value="Lastname: " />
									<h:outputText value="#{loginHandler.user.name}"
										styleClass="outputLabel" />

									<h:outputText value="Age: " />
									<h:outputText value="12" styleClass="outputLabel" />
								</b:panelGrid>

								<b:panelGrid columns="2" columnClasses="label, value">
									<h:outputText value="Street: " />
									<h:outputText value="#{loginHandler.user.strasse}"
										styleClass="outputLabel" />

									<h:outputText value="Postal: " />
									<h:outputText value="#{loginHandler.user.plz}"
										styleClass="outputLabel" />

									<h:outputText value="City: " />
									<h:outputText value="#{loginHandler.user.ort}"
										styleClass="outputLabel" />
								</b:panelGrid>

								<b:panelGrid columns="2" columnClasses="label, value">
									<h:outputText value="Email: " />
									<h:outputText value="#{loginHandler.user.email}"
										styleClass="outputLabel" />

									<h:outputText value="Benutzername: " />
									<h:outputText value="#{loginHandler.user.benutzername}"
										styleClass="outputLabel" />

									<h:outputText value="Passwort: " />
									<h:outputText value="#{loginHandler.user.passwort}"
										styleClass="outputLabel" />
								</b:panelGrid>
							</b:panelGrid>
							<br />
							<b:commandButton value="Submit" look="success"
								action="#{loginHandler.bearbeitungSpeichern()}" update="growl"
								process="@form" />
							<b:commandButton action="#{loginHandler.abbrechen}"
								value="Abbrechen" immediate="true" look="primary" />
						</b:panel>
					</p:tab>
				</p:wizard>
			</div>
		</h:form>
		<br />
	</div>

	<div id="footer">
		<span>Copyright 2019 | Ben Inza Coulibaly | Amadou Sow | Lionel
			Babou</span>
	</div>
</h:body>

</html>
