<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui">

<h:head>
	<title><ui:insert name="title">Belisso Shop - Home Page Admin</ui:insert></title>
	<link rel="stylesheet" href="resources/CSS/alleKunden.css"
		type="text/css" />
	<link rel="stylesheet" href="resources/CSS/general.css" type="text/css" />
	<link rel="shortcut icon" href="resources/IMAGES/finallogo1.png" />
</h:head>

<h:body>
	<f:event listener="#{loginHandler.checkLoggedIn}" type="preRenderView" />

	<h:form>
		<b:navBar id="top" brand="BELISO SHOP"
			brandImg="resources/IMAGES/finallogo1.png"
			brand-img-style="width:40px;
				height:30px" fluid="true"
			sticky="true">
			<b:navbarLinks pull="right">
				<b:navCommandLink href="#" value="contact ">
					<b:iconAwesome name="group" />
				</b:navCommandLink>
				<b:navCommandLink href="#" value="Impressum ">
					<b:iconAwesome name="balance-scale" />
				</b:navCommandLink>
				<b:navCommandLink href="#" value="Ueber Uns ">
					<b:iconAwesome name="leaf" />
				</b:navCommandLink>
				<b:dropMenu iconAwesome="user-circle" rendered="true"
					value="#{loginHandler.user.benutzername}">
					<b:navCommandLink value="Profil editieren"
						action="#{kundenHandler.loggedKundeBearbeiten}" />
					<b:navCommandLink action="#{loginHandler.logout}" value="Abmelden" />
				</b:dropMenu>
			</b:navbarLinks>
		</b:navBar>

		<hr width="80%" align="center" />
		<h2 id="headPage" align="center">
			<ui:insert name="headPage">HomePage Admin</ui:insert>
		</h2>
		<hr width="80%" align="center" />

		<b:container styleClass="content-container">

			<b:commandButton action="#{kundenHandler.neu()}"
				value="Neuer Admin User anlegen" iconAwesome="user-plus"
				look="primary" />
			<b:commandButton value="bearbeiten"
				action="#{kundenHandler.normaleKundeBearbeiten()}" />

			<p:dataTable var="kunde" value="#{loginHandler.kundenList}" rows="10"
				paginator="true"
				paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
				rowsPerPageTemplate="5,10,15" rowClasses="odd,even"
				headerClass="header"
				emptyMessage="No user(s) found with given criteria" widgetVar="userTable"
				filteredValue="#{kunde}">

				<f:facet name="header">
					<p:outputPanel>
						<h:outputText value="Search all fields:" />
						<p:inputText id="globalFilter" onkeyup="PF('userTable').filter()"
							style="width:150px" placeholder="Enter keyword" />
					</p:outputPanel>
				</f:facet>

				<p:column>
					<f:facet name="header">ID</f:facet>
					<h:outputText value="#{kunde.id}" />
				</p:column>
				<p:column>
					<f:facet name="header">Anrede</f:facet>
					<h:outputText value="#{kunde.anrede}" />
				</p:column>
				<p:column>
					<f:facet name="header">Vorname</f:facet>
					<h:outputText value="#{kunde.vorname}" />
				</p:column>
				<p:column>
					<f:facet name="header">Nachname</f:facet>
					<h:outputText value="#{kunde.name}" />
				</p:column>
				<p:column>
					<f:facet name="header">Benutzername</f:facet>
					<h:outputText value="#{kunde.benutzername}" />
				</p:column>
				<p:column>
					<f:facet name="header">Strasse</f:facet>
					<h:outputText value="#{kunde.strasse}" />
				</p:column>
				<p:column>
					<f:facet name="header">Geburtsdatum</f:facet>
					<h:outputFormat value="#{kunde.geburtsdatum}">
						<f:convertDateTime pattern="MM/dd/yyyy" />
					</h:outputFormat>
				</p:column>
				<p:column>
					<f:facet name="header">Rolle</f:facet>
					<h:outputFormat value="#{kunde.rolle}" />
				</p:column>
				<p:column>
					<f:facet name="header">Bearbeiten</f:facet>
					<p:commandButton value="bearbeiten"
						action="#{kundenHandler.normaleKundeBearbeiten()}" />
				</p:column>
				<p:column>
					<f:facet name="header">Löschen</f:facet>
					<p:commandButton value="löschen"
						action="#{kundenHandler.löschen()}" />
				</p:column>
				<!-- <f:facet name="footer">
		        	In total there are #{kundenHandler.kundenListe.size()} Benutzer.
		    	</f:facet> -->
			</p:dataTable>

			<br />
			<br />

			<b:commandButton id="addButton" action="#{artikelHandler.neuArtikel}"
				value="Neues Artikel anlegen" look="primary" />
			<br />

			<b:dataTable var="artikel" value="#{artikelHandler.artikelListe}"
				rowClasses="odd,even" headerClass="header">
				<b:column>
					<f:facet name="header">Name</f:facet>
					<h:outputText value="#{artikel.name}" />
				</b:column>
				<b:column>
					<f:facet name="header">Beschreibung</f:facet>
					<h:outputText value="#{artikel.beschreibung}" />
				</b:column>
				<b:column>
					<f:facet name="header">Preis</f:facet>
					<h:outputLabel value="#{artikel.preis}"> €</h:outputLabel>
				</b:column>
				<b:column>
					<f:facet name="header">Image</f:facet>
					<p:graphicImage width="80px" height="50px"
						value="/resources/IMAGES/ARTIKEL/#{artikel.image}" />
				</b:column>

				<b:column>
					<f:facet name="header">Anzahl</f:facet>
					<h:outputFormat value="#{artikel.anzahl}" />
				</b:column>

				<b:column>
					<f:facet name="header">Bearbeiten</f:facet>
					<b:commandButton iconAwesome="pencil" />
				</b:column>
				<b:column>
					<f:facet name="header">Löschen</f:facet>
					<b:commandButton iconAwesome="trash" icon-size="1x"
						action="#{artikelHandler.löschen}" />
				</b:column>

			</b:dataTable>
		</b:container>
	</h:form>


	<div id="footer">
		<ui:insert name="footer">
			<span>Copyright 2019 | Ben Inza Coulibaly | Amadou Sow |
				Lionel Babou</span>
		</ui:insert>
	</div>
</h:body>

</html>
